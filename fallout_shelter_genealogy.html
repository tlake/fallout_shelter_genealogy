<head>
  <title>fallout_shelter_genealogy</title>
</head>



<body>
  <h1>Vault-Tec's Genealogical History Application</h1>
  <h2>Assisting overseers in understanding the familial
    history of their vaults and in preventing incest of
    an undesired nature.</h2>

  {{#unless currentUser}}
    {{> anon_header}}
  {{else}}
    {{> authn_header}}
    {{> main_content}}
  {{/unless}}
</body>



<template name="anon_header">
  <h3>Enter your Overseer credentials.</h3>
  {{> loginButtons}}
</template>



<template name="authn_header">
  <h3>Welcome, Overseer!</h3>
  {{> loginButtons}}
</template>



<template name="main_content">
  {{> control_panel}}
  {{> dwellers_list}}
</template>



<template name="control_panel">
  <h4>Control Panel</h4>

  {{> vault_controls}}
  {{> dweller_controls}}
</template>



<template name="vault_controls">
  <label>Vault No.
    <select id="select_vault">
      <option value=""></option>
      {{#each vaults}}
        {{#if isSelectedVault vault_id}}
          <option value={{vault_id}} selected>{{vault_id}}</option>
        {{else}}
          <option value={{vault_id}}>{{vault_id}}</option>
        {{/if}}
      {{/each}}
    </select>
  </label>

  <button class="delete" id="btn_del_vault">Delete Vault</button>

  <button id="btn_new_vault">New Vault</button>

  <form id="form_new_vault" class="hide">
    <input id="ipt_new_vault" type="text" name="new_vault" placeholder="New Vault" />

    <button id="btn_new_vault_submit" type="submit" name="submit" value="submit">Submit</button>
    <button id="btn_new_vault_cancel">Cancel</button>
  </form>
</template>



<template name="dweller_controls">
  <button id="btn_new_dweller">Add New Dweller</button>

  <form id="form_new_dweller" class="hide">
    <label>
      Dweller Type:
      <select id="dweller_type">
        <option value="bred" selected>Bred</option>
        <option value="radio">Radio</option>
        <option value="lunchbox">Lunchbox</option>
        <option value="initial">Initial</option>
      </select>
    </label>

    <label id="dweller_information">
      Dweller Information
      <select id="first_parent" class="dweller_parents">
        {{#each dwellers}}
          <option value="{{this._id}}">{{first_name}} {{last_name}}</option>
        {{/each}}
      </select>
      <select id="second_parent" class="dweller_parents">
        {{#each dwellers}}
          <option value="{{this._id}}">{{first_name}} {{last_name}}</option>
        {{/each}}
      </select>
      <input type="text" name="first_name" placeholder="First Name" />
      <input type="text" name="last_name" placeholder="Last Name" />
    </label>

    <button id="btn_new_dweller_submit" type="submit" name="submit" value="submit">Submit</button>
    <button id="btn_new_dweller_cancel">Cancel</button>
  </form>
</template>



<template name="dwellers_list">
  <h4>Dwellers In This Vault:</h4>
    <ul>
    {{#each dwellers}}
      <li>
        <span class="dweller_display">
          {{first_name}} {{last_name}}: {{type}} dweller
        </span>
        <button class="delete">&times;</button>
      </li>
    {{/each}}
  </ul>
</template>

